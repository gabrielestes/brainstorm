{"version":3,"sources":["../../src/js/game.js"],"names":["$","document","ready","allRaindrops","interval","gameDuration","on","toggleClass","prop","hide","makeItRain","event","keyCode","preventDefault","userSolution","val","checkAnswers","setFocus","hideCursor","startGame","css","cursor","setTimeout","mousemove","input","focus","setInterval","Raindrop","endGame","clearInterval","numSolution","Number","console","log","index","length","drop","values","solution","splice","self","remove","firstNumber","secondNumber","operator","init","generateProblem","createRaindrop","push","prototype","generateOperator","operNumber","Math","ceil","random","generateNumbers","genNumAddSub","genNumMultiply","genNumDivide","operand1","operand2","operand","multiplier","divider","posLeft","prepend","addClass","text","rainFall","setRainSpeed","first","rainSpeed"],"mappings":"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","file":"game.js","sourcesContent":["$(document).ready(function() {\n    //GLOBAL VARIABLES\n    var allRaindrops = [];\n    var interval = 3000;\n    var gameDuration = null;\n\n    //Mute button functionality\n    $('.mute-button').on('click', function() {\n        $(this).toggleClass('active');\n        $('.music').prop('muted', !$('.music').prop('muted'));\n    });\n\n    //Start Game button\n    $('.start-game').on('click', function() {\n        $('.start-game').hide();\n        makeItRain();\n    });\n\n    //Solution-field\n    $('form').on('keypress', '.solution-field', function(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            var userSolution = $(this).val();\n            checkAnswers(userSolution);\n            $(this).val('');\n        }\n    });\n\n    //Game FUNCTIONS\n    function makeItRain() {\n        setFocus();\n        hideCursor();\n        startGame();\n        // increaseSpeed();\n    }\n\n    // function playMusic() {\n    //   $('.music').on(\"load\", function() {\n    //        $('.music').play();\n    //    }, true);\n    //    $('.start').click(function() {\n    //        $('.music').play();\n    //    });\n    // }\n\n    function hideCursor() {\n        $('html').css({cursor: 'none'});\n        setTimeout(function() {\n\n            $('.game-container').mousemove(function() {\n                $('html').css({cursor: 'auto'});\n            });\n        }, 300);\n\n    }\n\n    function setFocus() {\n        var input = $('.solution-field');\n        input.focus();\n    }\n\n    function startGame() {\n        gameDuration = setInterval(function() {\n            new Raindrop();\n        }, interval);\n    }\n\n    function endGame() {\n        setTimeout(function() {\n            clearInterval(gameDuration);\n        }, 900000);\n    }\n\n    // function increaseSpeed() {\n    //     setInterval(function() {\n    //         clearInterval(gameDuration);\n    //         interval -= 250;\n    //         startGame();\n    //         return interval;\n    //     }, 15000);\n    // }\n\n    function checkAnswers(userSolution) {\n        var numSolution = Number(userSolution);\n        console.log(allRaindrops);\n            for (var index = allRaindrops.length - 1; index >= 0; index--) {\n                var drop = allRaindrops[index];\n                console.log(drop.values);\n                if (drop.values.solution === numSolution) {\n                    allRaindrops.splice(index, 1);\n                    drop.self.remove();\n                }\n            }\n            console.log(allRaindrops);\n            userSolution = null;\n            numSolution = null;\n        }\n\n//CONTRUCTORS\nfunction Raindrop() {\n    this.values = {\n        firstNumber: null,\n        secondNumber: null,\n        operator: null,\n        solution: null\n    };\n\n    this.init = function() {\n        this.generateProblem();\n        this.self = this.createRaindrop();\n        allRaindrops.push(this);\n    };\n    this.init();\n}\n\n//PROTOTYPES\nRaindrop.prototype = {\n    generateOperator: function() {\n        var operator = \"\";\n        var operNumber = Math.ceil(Math.random() * 4);\n        if (operNumber === 1) {\n            operator = \"+\";\n        } else if (operNumber === 2) {\n            operator = \"-\";\n        } else if (operNumber === 3) {\n            operator = \"*\";\n        } else {\n            operator = \"/\";\n        }\n        this.values.operator = operator;\n        return operator;\n    },\n\n    generateNumbers: function(operator) {\n        if (operator === \"+\" || operator === \"-\") {\n            this.genNumAddSub();\n        } else if (operator === \"*\") {\n            this.genNumMultiply();\n        } else {\n            this.genNumDivide();\n        }\n    },\n\n    genNumAddSub: function() {\n        var operand1 = Math.ceil(Math.random() * 20),\n            operand2 = Math.ceil(Math.random() * 15);\n        this.values.firstNumber = operand1;\n        this.values.secondNumber = operand2;\n    },\n\n    genNumMultiply: function() {\n        var operand = Math.ceil(Math.random() * 15),\n            multiplier = Math.ceil(Math.random() * 10);\n        this.values.firstNumber = operand;\n        this.values.secondNumber = multiplier;\n    },\n\n    genNumDivide: function() {\n        var divider = Math.ceil(Math.random() * 13);\n        var operand = (Math.ceil(Math.random() * 15)) * divider;\n        this.values.firstNumber = operand;\n        this.values.secondNumber = divider;\n    },\n\n    generateProblem: function() {\n        this.generateNumbers(this.generateOperator());\n        var solution = null,\n            operator = this.values.operator,\n            firstNumber = this.values.firstNumber,\n            secondNumber = this.values.secondNumber;\n        switch (operator) {\n            case \"+\":\n                solution = firstNumber + secondNumber;\n                break;\n            case \"-\":\n                solution = firstNumber - secondNumber;\n                break;\n            case \"*\":\n                solution = firstNumber * secondNumber;\n                break;\n            default:\n                solution = firstNumber / secondNumber;\n        }\n        this.values.solution = solution;\n    },\n\n    createRaindrop: function() {\n        var posLeft = Math.ceil(Math.random() * 70);\n        $('.game-container').prepend($('<div/>').addClass('raindrop').css({\n            'left': posLeft + '%'\n        }).text(this.values.firstNumber + this.values.operator + this.values.secondNumber));\n        this.rainFall(this.setRainSpeed());\n        return $('.raindrop').first();\n    },\n\n    setRainSpeed: function() {},\n\n    rainFall: function(rainSpeed) {}\n};\n\n});\n"]}